<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="DVWA--Java Script, shiango">
    <meta name="description" content="A Freshman">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>DVWA--Java Script | shiango</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="shiango" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">shiango</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">shiango</div>
        <div class="logo-desc">
            
            A Freshman
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/19.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">DVWA--Java Script</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/js/">
                                <span class="chip bg-color">js</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2022-01-25
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h2><p>Java Script是于对象和事件驱动的、并具有安全性能的脚本语言。是一种解释型语言（代码不需要进行预编译）。通常JavaScript脚本是通过嵌入在HTML中来实现自身的功能的。</p>
<h5 id="引用方式"><a href="#引用方式" class="headerlink" title="引用方式"></a>引用方式</h5><p>1.在&lt; script &gt;标签构造JS脚本</p>
<p>2.外部JS文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;export.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>3.直接在HTML标签中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;btn&quot; type=&quot;button&quot; value=&quot;弹出消息框&quot;   </span><br><span class="line">   onclick=&quot;javascript:alert(&#x27;JS！！&#x27;);&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h5 id="漏洞危害"><a href="#漏洞危害" class="headerlink" title="漏洞危害"></a>漏洞危害</h5><p>若是涉及到Cookie、Session等记录用户信息的脚本，应该通过外部引入方式，并且不能暴露文件路径，控制好文件访问权限，若被攻击者获取到重要脚本代码，则能伪造其他合法用户进行伪造。</p>
<h2 id="2-DVWA"><a href="#2-DVWA" class="headerlink" title="2.DVWA"></a>2.DVWA</h2><p>前言：JavaScript攻击属于Web前端安全，不存在黑盒测试的概念，直接可以对JS进行白盒代码审计。</p>
<p>DVWA中的JavaScript攻击的场景是基于token由前端JS生成而引起的一系列问题。</p>
<h3 id="low"><a href="#low" class="headerlink" title="low"></a>low</h3><h4 id="1-源码分析"><a href="#1-源码分析" class="headerlink" title="1.源码分析"></a>1.源码分析</h4><pre><code>&lt;?php
$page[ &#39;body&#39; ] .= &lt;&lt;&lt;EOF

&lt;script&gt;

/*
MD5 code from here
https://github.com/blueimp/JavaScript-MD5
//md5加密
*/

!function(n)&#123;&quot;use strict&quot;;function t(n,t)&#123;var r=(65535&amp;n)+(65535&amp;t);return(n&gt;&gt;16)+(t&gt;&gt;16)+(r&gt;&gt;16)&lt;&lt;16|65535&amp;r&#125;function r(n,t)&#123;return n&lt;&lt;t|n&gt;&gt;&gt;32-t&#125;function e(n,e,o,u,c,f)&#123;return t(r(t(t(e,n),t(u,f)),c),o)&#125;function o(n,t,r,o,u,c,f)&#123;return e(t&amp;r|~t&amp;o,n,t,u,c,f)&#125;function u(n,t,r,o,u,c,f)&#123;return e(t&amp;o|r&amp;~o,n,t,u,c,f)&#125;function c(n,t,r,o,u,c,f)&#123;return e(t^r^o,n,t,u,c,f)&#125;function f(n,t,r,o,u,c,f)&#123;return e(r^(t|~o),n,t,u,c,f)&#125;function i(n,r)&#123;n[r&gt;&gt;5]|=128&lt;&lt;r%32,n[14+(r+64&gt;&gt;&gt;9&lt;&lt;4)]=r;var e,i,a,d,h,l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(e=0;e&lt;n.length;e+=16)i=l,a=g,d=v,h=m,g=f(g=f(g=f(g=f(g=c(g=c(g=c(g=c(g=u(g=u(g=u(g=u(g=o(g=o(g=o(g=o(g,v=o(v,m=o(m,l=o(l,g,v,m,n[e],7,-680876936),g,v,n[e+1],12,-389564586),l,g,n[e+2],17,606105819),m,l,n[e+3],22,-1044525330),v=o(v,m=o(m,l=o(l,g,v,m,n[e+4],7,-176418897),g,v,n[e+5],12,1200080426),l,g,n[e+6],17,-1473231341),m,l,n[e+7],22,-45705983),v=o(v,m=o(m,l=o(l,g,v,m,n[e+8],7,1770035416),g,v,n[e+9],12,-1958414417),l,g,n[e+10],17,-42063),m,l,n[e+11],22,-1990404162),v=o(v,m=o(m,l=o(l,g,v,m,n[e+12],7,1804603682),g,v,n[e+13],12,-40341101),l,g,n[e+14],17,-1502002290),m,l,n[e+15],22,1236535329),v=u(v,m=u(m,l=u(l,g,v,m,n[e+1],5,-165796510),g,v,n[e+6],9,-1069501632),l,g,n[e+11],14,643717713),m,l,n[e],20,-373897302),v=u(v,m=u(m,l=u(l,g,v,m,n[e+5],5,-701558691),g,v,n[e+10],9,38016083),l,g,n[e+15],14,-660478335),m,l,n[e+4],20,-405537848),v=u(v,m=u(m,l=u(l,g,v,m,n[e+9],5,568446438),g,v,n[e+14],9,-1019803690),l,g,n[e+3],14,-187363961),m,l,n[e+8],20,1163531501),v=u(v,m=u(m,l=u(l,g,v,m,n[e+13],5,-1444681467),g,v,n[e+2],9,-51403784),l,g,n[e+7],14,1735328473),m,l,n[e+12],20,-1926607734),v=c(v,m=c(m,l=c(l,g,v,m,n[e+5],4,-378558),g,v,n[e+8],11,-2022574463),l,g,n[e+11],16,1839030562),m,l,n[e+14],23,-35309556),v=c(v,m=c(m,l=c(l,g,v,m,n[e+1],4,-1530992060),g,v,n[e+4],11,1272893353),l,g,n[e+7],16,-155497632),m,l,n[e+10],23,-1094730640),v=c(v,m=c(m,l=c(l,g,v,m,n[e+13],4,681279174),g,v,n[e],11,-358537222),l,g,n[e+3],16,-722521979),m,l,n[e+6],23,76029189),v=c(v,m=c(m,l=c(l,g,v,m,n[e+9],4,-640364487),g,v,n[e+12],11,-421815835),l,g,n[e+15],16,530742520),m,l,n[e+2],23,-995338651),v=f(v,m=f(m,l=f(l,g,v,m,n[e],6,-198630844),g,v,n[e+7],10,1126891415),l,g,n[e+14],15,-1416354905),m,l,n[e+5],21,-57434055),v=f(v,m=f(m,l=f(l,g,v,m,n[e+12],6,1700485571),g,v,n[e+3],10,-1894986606),l,g,n[e+10],15,-1051523),m,l,n[e+1],21,-2054922799),v=f(v,m=f(m,l=f(l,g,v,m,n[e+8],6,1873313359),g,v,n[e+15],10,-30611744),l,g,n[e+6],15,-1560198380),m,l,n[e+13],21,1309151649),v=f(v,m=f(m,l=f(l,g,v,m,n[e+4],6,-145523070),g,v,n[e+11],10,-1120210379),l,g,n[e+2],15,718787259),m,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,a),v=t(v,d),m=t(m,h);return[l,g,v,m]&#125;function a(n)&#123;var t,r=&quot;&quot;,e=32*n.length;for(t=0;t&lt;e;t+=8)r+=String.fromCharCode(n[t&gt;&gt;5]&gt;&gt;&gt;t%32&amp;255);return r&#125;function d(n)&#123;var t,r=[];for(r[(n.length&gt;&gt;2)-1]=void 0,t=0;t&lt;r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t&lt;e;t+=8)r[t&gt;&gt;5]|=(255&amp;n.charCodeAt(t/8))&lt;&lt;t%32;return r&#125;function h(n)&#123;return a(i(d(n),8*n.length))&#125;function l(n,t)&#123;var r,e,o=d(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length&gt;16&amp;&amp;(o=i(o,8*n.length)),r=0;r&lt;16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(d(t)),512+8*t.length),a(i(c.concat(e),640))&#125;function g(n)&#123;var t,r,e=&quot;&quot;;for(r=0;r&lt;n.length;r+=1)t=n.charCodeAt(r),e+=&quot;0123456789abcdef&quot;.charAt(t&gt;&gt;&gt;4&amp;15)+&quot;0123456789abcdef&quot;.charAt(15&amp;t);return e&#125;function v(n)&#123;return unescape(encodeURIComponent(n))&#125;function m(n)&#123;return h(v(n))&#125;function p(n)&#123;return g(m(n))&#125;function s(n,t)&#123;return l(v(n),v(t))&#125;function C(n,t)&#123;return g(s(n,t))&#125;function A(n,t,r)&#123;return t?r?s(t,n):C(t,n):r?m(n):p(n)&#125;&quot;function&quot;==typeof define&amp;&amp;define.amd?define(function()&#123;return A&#125;):&quot;object&quot;==typeof module&amp;&amp;module.exports?module.exports=A:n.md5=A&#125;(this);
function rot13(inp) &#123;
    return inp.replace(/[a-zA-Z]/g,function(c)&#123;return String.fromCharCode((c&lt;=&quot;Z&quot;?90:122)&gt;=(c=c.charCodeAt(0)+13)?c:c-26);&#125;);
&#125;

function generate_token() &#123;
    var phrase = document.getElementById(&quot;phrase&quot;).value;
    document.getElementById(&quot;token&quot;).value = md5(rot13(phrase));
&#125;

generate_token();
&lt;/script&gt;
EOF;
?&gt;
</code></pre>
<h4 id="2-漏洞复现"><a href="#2-漏洞复现" class="headerlink" title="2.漏洞复现"></a>2.漏洞复现</h4><p>输入success发现</p>
<p><img src="/images/js2.png" alt="js2"></p>
<p>提示我们token有问题，所以我们到查看器去看看</p>
<p><img src="/images/js1.png" alt="js1"></p>
<p>查看源码发现这个token value是changeme进行rot13,又进行MD5加密后的token值，所以我们用控制台来计算MD5(rot13(“success”)),修改入前端：</p>
<p><img src="/images/js3.png" alt="js3"></p>
<p><img src="/images/js5.png" alt="js5"></p>
<p><img src="/images/js6.png" alt="js6"></p>
<h3 id="medium"><a href="#medium" class="headerlink" title="medium"></a>medium</h3><h4 id="1-源码分析-1"><a href="#1-源码分析-1" class="headerlink" title="1.源码分析"></a>1.源码分析</h4><?php
$page[ 'body' ] .= '<script src="' . DVWA_WEB_PAGE_TO_ROOT . 'vulnerabilities/javascript/source/medium.js"></script>';
?>

<p>JavaScript代码<br>function do_something(e){for(var t=””,n=e.length-1;n&gt;=0;n–)t+=e[n];return t}setTimeout(function(){do_elsesomething(“XX”)},300);function do_elsesomething(e){document.getElementById(“token”).value=do_something(e+document.getElementById(“phrase”).value+”XX”)}</p>
<h4 id="2-漏洞复现-1"><a href="#2-漏洞复现-1" class="headerlink" title="2.漏洞复现"></a>2.漏洞复现</h4><p>这里的思路与第一题一样，不过是生成的token放在外部的js文件。</p>
<p>这里的js代码是将phrase的变量值逆序，</p>
<p>但是我们只要把do_something这个函数丢进控制台他就自己计算了（xx就不必算了）</p>
<p>所以：</p>
<p><img src="/images/js9.png" alt="js9"></p>
<p><img src="/images/js7.png" alt="js7"></p>
<p><img src="/images/js8.png" alt="js8"></p>
<h3 id="high"><a href="#high" class="headerlink" title="high"></a>high</h3><h4 id="1-源码分析-2"><a href="#1-源码分析-2" class="headerlink" title="1.源码分析"></a>1.源码分析</h4><?php
$page[ 'body' ] .= '<script src="' . DVWA_WEB_PAGE_TO_ROOT . 'vulnerabilities/javascript/source/high.js"></script>';
?>

<p>JavaScript代码（js经过了混淆加密）</p>
<p>var a=[‘fromCharCode’,’toString’,’replace’,’BeJ’,’\x5cw+’,’Lyg’,’SuR’,’(w(){\x273M\x203L\x27;q\x201l=\x273K\x203I\x203J\x20T\x27;q\x201R=1c\x202I===\x271n\x27;q\x20Y=1R?2I:{};p(Y.3N){1R=1O}q\x202L=!1R&amp;&amp;1c\x202M===\x271n\x27;q\x202o=!Y.2S&amp;&amp;1c\x202d===\x271n\x27&amp;&amp;2d.2Q&amp;&amp;2d.2Q.3S;p(2o){Y=3R}z\x20p(2L){Y=2M}q\x202G=!Y.3Q&amp;&amp;1c\x202g===\x271n\x27&amp;&amp;2g.X;q\x202s=1c\x202l===\x27w\x27&amp;&amp;2l.3P;q\x201y=!Y.3H&amp;&amp;1c\x20Z!==\x272T\x27;q\x20m=\x273G\x27.3z(\x27\x27);q\x202w=[-3y,3x,3v,3w];q\x20U=[24,16,8,0];q\x20K=[3A,3B,3F,3E,3D,3C,3T,3U,4d,4c,4b,49,4a,4e,4f,4j,4i,4h,3u,48,47,3Z,3Y,3X,3V,3W,40,41,46,45,43,42,4k,3f,38,36,39,37,34,33,2Y,31,2Z,35,3t,3n,3m,3l,3o,3p,3s,3r,3q,3k,3j,3d,3a,3c,3b,3e,3h,3g,3i,4g];q\x201E=[\x271e\x27,\x2727\x27,\x271G\x27,\x272R\x27];q\x20l=[];p(Y.2S||!1z.1K){1z.1K=w(1x){A\x204C.Q.2U.1I(1x)===\x27[1n\x201z]\x27}}p(1y&amp;&amp;(Y.50||!Z.1N)){Z.1N=w(1x){A\x201c\x201x===\x271n\x27&amp;&amp;1x.1w&amp;&amp;1x.1w.1J===Z}}q\x202m=w(1X,x){A\x20w(s){A\x20O\x20N(x,1d).S(s)<a href="">1X</a>}};q\x202a=w(x){q\x20P=2m(\x271e\x27,x);p(2o){P=2P(P,x)}P.1T=w(){A\x20O\x20N(x)};P.S=w(s){A\x20P.1T().S(s)};1g(q\x20i=0;i&lt;1E.W;++i){q\x20T=1E[i];P[T]=2m(T,x)}A\x20P};q\x202P=w(P,x){q\x201S=2O(\x222N(\x271S\x27)\x22);q\x201Y=2O(\x222N(\x271w\x27).1Y\x22);q\x202n=x?\x271H\x27:\x271q\x27;q\x202z=w(s){p(1c\x20s===\x272p\x27){A\x201S.2x(2n).S(s,\x274S\x27).1G(\x271e\x27)}z{p(s===2q||s===2T){1u\x20O\x201t(1l)}z\x20p(s.1J===Z){s=O\x202r(s)}}p(1z.1K(s)||Z.1N(s)||s.1J===1Y){A\x201S.2x(2n).S(O\x201Y(s)).1G(\x271e\x27)}z{A\x20P(s)}};A\x202z};q\x202k=w(1X,x){A\x20w(G,s){A\x20O\x201P(G,x,1d).S(s)<a href="">1X</a>}};q\x202f=w(x){q\x20P=2k(\x271e\x27,x);P.1T=w(G){A\x20O\x201P(G,x)};P.S=w(G,s){A\x20P.1T(G).S(s)};1g(q\x20i=0;i&lt;1E.W;++i){q\x20T=1E[i];P[T]=2k(T,x)}A\x20P};w\x20N(x,1v){p(1v){l[0]=l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0;k.l=l}z{k.l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}p(x){k.C=4I;k.B=4H;k.E=4l;k.F=4U;k.J=4J;k.I=4K;k.H=4L;k.D=4T}z{k.C=4X;k.B=4W;k.E=4Y;k.F=4Z;k.J=4V;k.I=4O;k.H=4F;k.D=4s}k.1C=k.1A=k.L=k.2i=0;k.1U=k.1L=1O;k.2j=1d;k.x=x}N.Q.S=w(s){p(k.1U){A}q\x202h,T=1c\x20s;p(T!==\x272p\x27){p(T===\x271n\x27){p(s===2q){1u\x20O\x201t(1l)}z\x20p(1y&amp;&amp;s.1J===Z){s=O\x202r(s)}z\x20p(!1z.1K(s)){p(!1y||!Z.1N(s)){1u\x20O\x201t(1l)}}}z{1u\x20O\x201t(1l)}2h=1d}q\x20r,M=0,i,W=s.W,l=k.l;4t(M&lt;W){p(k.1L){k.1L=1O;l[0]=k.1C;l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0}p(2h){1g(i=k.1A;M&lt;W&amp;&amp;i&lt;1k;++M){l[i&gt;&gt;2]|=s[M]&lt;&lt;U[i++&amp;3]}}z{1g(i=k.1A;M&lt;W&amp;&amp;i&lt;1k;++M){r=s.1Q(M);p(r&lt;R){l[i&gt;&gt;2]|=r&lt;&lt;U[i++&amp;3]}z\x20p(r&lt;2v){l[i&gt;&gt;2]|=(2t|(r&gt;&gt;6))&lt;&lt;U[i++&amp;3];l[i&gt;&gt;2]|=(R|(r&amp;V))&lt;&lt;U[i++&amp;3]}z\x20p(r&lt;2A||r&gt;=2E){l[i&gt;&gt;2]|=(2D|(r&gt;&gt;12))&lt;&lt;U[i++&amp;3];l[i&gt;&gt;2]|=(R|((r&gt;&gt;6)&amp;V))&lt;&lt;U[i++&amp;3];l[i&gt;&gt;2]|=(R|(r&amp;V))&lt;&lt;U[i++&amp;3]}z{r=2C+(((r&amp;23)&lt;&lt;10)|(s.1Q(++M)&amp;23));l[i&gt;&gt;2]|=(2X|(r&gt;&gt;18))&lt;&lt;U[i++&amp;3];l[i&gt;&gt;2]|=(R|((r&gt;&gt;12)&amp;V))&lt;&lt;U[i++&amp;3];l[i&gt;&gt;2]|=(R|((r&gt;&gt;6)&amp;V))&lt;&lt;U[i++&amp;3];l[i&gt;&gt;2]|=(R|(r&amp;V))&lt;&lt;U[i++&amp;3]}}}k.2u=i;k.L+=i-k.1A;p(i&gt;=1k){k.1C=l[16];k.1A=i-1k;k.1W();k.1L=1d}z{k.1A=i}}p(k.L&gt;4r){k.2i+=k.L/2H&lt;&lt;0;k.L=k.L%2H}A\x20k};N.Q.1s=w(){p(k.1U){A}k.1U=1d;q\x20l=k.l,i=k.2u;l[16]=k.1C;l[i&gt;&gt;2]|=2w[i&amp;3];k.1C=l[16];p(i&gt;=4q){p(!k.1L){k.1W()}l[0]=k.1C;l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0}l[14]=k.2i&lt;&lt;3|k.L&gt;&gt;&gt;29;l[15]=k.L&lt;&lt;3;k.1W()};N.Q.1W=w(){q\x20a=k.C,b=k.B,c=k.E,d=k.F,e=k.J,f=k.I,g=k.H,h=k.D,l=k.l,j,1a,1b,1j,v,1f,1h,1B,1Z,1V,1D;1g(j=16;j&lt;1k;++j){v=l[j-15];1a=((v&gt;&gt;&gt;7)|(v&lt;&lt;25))^((v&gt;&gt;&gt;18)|(v&lt;&lt;14))^(v&gt;&gt;&gt;3);v=l[j-2];1b=((v&gt;&gt;&gt;17)|(v&lt;&lt;15))^((v&gt;&gt;&gt;19)|(v&lt;&lt;13))^(v&gt;&gt;&gt;10);l[j]=l[j-16]+1a+l[j-7]+1b&lt;&lt;0}1D=b&c;1g(j=0;j&lt;1k;j+=4){p(k.2j){p(k.x){1B=4m;v=l[0]-4n;h=v-4o&lt;&lt;0;d=v+4p&lt;&lt;0}z{1B=4v;v=l[0]-4w;h=v-4G&lt;&lt;0;d=v+4D&lt;&lt;0}k.2j=1O}z{1a=((a&gt;&gt;&gt;2)|(a&lt;&lt;30))^((a&gt;&gt;&gt;13)|(a&lt;&lt;19))^((a&gt;&gt;&gt;22)|(a&lt;&lt;10));1b=((e&gt;&gt;&gt;6)|(e&lt;&lt;26))^((e&gt;&gt;&gt;11)|(e&lt;&lt;21))^((e&gt;&gt;&gt;25)|(e&lt;&lt;7));1B=a&b;1j=1B^(a&amp;c)^1D;1h=(e&amp;f)^(<del>e&amp;g);v=h+1b+1h+K[j]+l[j];1f=1a+1j;h=d+v&lt;&lt;0;d=v+1f&lt;&lt;0}1a=((d&gt;&gt;&gt;2)|(d&lt;&lt;30))^((d&gt;&gt;&gt;13)|(d&lt;&lt;19))^((d&gt;&gt;&gt;22)|(d&lt;&lt;10));1b=((h&gt;&gt;&gt;6)|(h&lt;&lt;26))^((h&gt;&gt;&gt;11)|(h&lt;&lt;21))^((h&gt;&gt;&gt;25)|(h&lt;&lt;7));1Z=d&a;1j=1Z^(d&amp;b)^1B;1h=(h&amp;e)^(</del>h&amp;f);v=g+1b+1h+K[j+1]+l[j+1];1f=1a+1j;g=c+v&lt;&lt;0;c=v+1f&lt;&lt;0;1a=((c&gt;&gt;&gt;2)|(c&lt;&lt;30))^((c&gt;&gt;&gt;13)|(c&lt;&lt;19))^((c&gt;&gt;&gt;22)|(c&lt;&lt;10));1b=((g&gt;&gt;&gt;6)|(g&lt;&lt;26))^((g&gt;&gt;&gt;11)|(g&lt;&lt;21))^((g&gt;&gt;&gt;25)|(g&lt;&lt;7));1V=c&d;1j=1V^(c&amp;a)^1Z;1h=(g&amp;h)^(<del>g&amp;e);v=f+1b+1h+K[j+2]+l[j+2];1f=1a+1j;f=b+v&lt;&lt;0;b=v+1f&lt;&lt;0;1a=((b&gt;&gt;&gt;2)|(b&lt;&lt;30))^((b&gt;&gt;&gt;13)|(b&lt;&lt;19))^((b&gt;&gt;&gt;22)|(b&lt;&lt;10));1b=((f&gt;&gt;&gt;6)|(f&lt;&lt;26))^((f&gt;&gt;&gt;11)|(f&lt;&lt;21))^((f&gt;&gt;&gt;25)|(f&lt;&lt;7));1D=b&c;1j=1D^(b&amp;d)^1V;1h=(f&amp;g)^(</del>f&amp;h);v=e+1b+1h+K[j+3]+l[j+3];1f=1a+1j;e=a+v&lt;&lt;0;a=v+1f&lt;&lt;0}k.C=k.C+a&lt;&lt;0;k.B=k.B+b&lt;&lt;0;k.E=k.E+c&lt;&lt;0;k.F=k.F+d&lt;&lt;0;k.J=k.J+e&lt;&lt;0;k.I=k.I+f&lt;&lt;0;k.H=k.H+g&lt;&lt;0;k.D=k.D+h&lt;&lt;0};N.Q.1e=w(){k.1s();q\x20C=k.C,B=k.B,E=k.E,F=k.F,J=k.J,I=k.I,H=k.H,D=k.D;q\x201e=m[(C&gt;&gt;28)&amp;o]+m[(C&gt;&gt;24)&amp;o]+m[(C&gt;&gt;20)&amp;o]+m[(C&gt;&gt;16)&amp;o]+m[(C&gt;&gt;12)&amp;o]+m[(C&gt;&gt;8)&amp;o]+m[(C&gt;&gt;4)&amp;o]+m[C&amp;o]+m[(B&gt;&gt;28)&amp;o]+m[(B&gt;&gt;24)&amp;o]+m[(B&gt;&gt;20)&amp;o]+m[(B&gt;&gt;16)&amp;o]+m[(B&gt;&gt;12)&amp;o]+m[(B&gt;&gt;8)&amp;o]+m[(B&gt;&gt;4)&amp;o]+m[B&amp;o]+m[(E&gt;&gt;28)&amp;o]+m[(E&gt;&gt;24)&amp;o]+m[(E&gt;&gt;20)&amp;o]+m[(E&gt;&gt;16)&amp;o]+m[(E&gt;&gt;12)&amp;o]+m[(E&gt;&gt;8)&amp;o]+m[(E&gt;&gt;4)&amp;o]+m[E&amp;o]+m[(F&gt;&gt;28)&amp;o]+m[(F&gt;&gt;24)&amp;o]+m[(F&gt;&gt;20)&amp;o]+m[(F&gt;&gt;16)&amp;o]+m[(F&gt;&gt;12)&amp;o]+m[(F&gt;&gt;8)&amp;o]+m[(F&gt;&gt;4)&amp;o]+m[F&amp;o]+m[(J&gt;&gt;28)&amp;o]+m[(J&gt;&gt;24)&amp;o]+m[(J&gt;&gt;20)&amp;o]+m[(J&gt;&gt;16)&amp;o]+m[(J&gt;&gt;12)&amp;o]+m[(J&gt;&gt;8)&amp;o]+m[(J&gt;&gt;4)&amp;o]+m[J&amp;o]+m[(I&gt;&gt;28)&amp;o]+m[(I&gt;&gt;24)&amp;o]+m[(I&gt;&gt;20)&amp;o]+m[(I&gt;&gt;16)&amp;o]+m[(I&gt;&gt;12)&amp;o]+m[(I&gt;&gt;8)&amp;o]+m[(I&gt;&gt;4)&amp;o]+m[I&amp;o]+m[(H&gt;&gt;28)&amp;o]+m[(H&gt;&gt;24)&amp;o]+m[(H&gt;&gt;20)&amp;o]+m[(H&gt;&gt;16)&amp;o]+m[(H&gt;&gt;12)&amp;o]+m[(H&gt;&gt;8)&amp;o]+m[(H&gt;&gt;4)&amp;o]+m[H&amp;o];p(!k.x){1e+=m[(D&gt;&gt;28)&amp;o]+m[(D&gt;&gt;24)&amp;o]+m[(D&gt;&gt;20)&amp;o]+m[(D&gt;&gt;16)&amp;o]+m[(D&gt;&gt;12)&amp;o]+m[(D&gt;&gt;8)&amp;o]+m[(D&gt;&gt;4)&amp;o]+m[D&amp;o]}A\x201e};N.Q.2U=N.Q.1e;N.Q.1G=w(){k.1s();q\x20C=k.C,B=k.B,E=k.E,F=k.F,J=k.J,I=k.I,H=k.H,D=k.D;q\x202b=[(C&gt;&gt;24)&amp;u,(C&gt;&gt;16)&amp;u,(C&gt;&gt;8)&amp;u,C&amp;u,(B&gt;&gt;24)&amp;u,(B&gt;&gt;16)&amp;u,(B&gt;&gt;8)&amp;u,B&amp;u,(E&gt;&gt;24)&amp;u,(E&gt;&gt;16)&amp;u,(E&gt;&gt;8)&amp;u,E&amp;u,(F&gt;&gt;24)&amp;u,(F&gt;&gt;16)&amp;u,(F&gt;&gt;8)&amp;u,F&amp;u,(J&gt;&gt;24)&amp;u,(J&gt;&gt;16)&amp;u,(J&gt;&gt;8)&amp;u,J&amp;u,(I&gt;&gt;24)&amp;u,(I&gt;&gt;16)&amp;u,(I&gt;&gt;8)&amp;u,I&amp;u,(H&gt;&gt;24)&amp;u,(H&gt;&gt;16)&amp;u,(H&gt;&gt;8)&amp;u,H&amp;u];p(!k.x){2b.4A((D&gt;&gt;24)&amp;u,(D&gt;&gt;16)&amp;u,(D&gt;&gt;8)&amp;u,D&amp;u)}A\x202b};N.Q.27=N.Q.1G;N.Q.2R=w(){k.1s();q\x201w=O\x20Z(k.x?28:32);q\x201i=O\x204x(1w);1i.1p(0,k.C);1i.1p(4,k.B);1i.1p(8,k.E);1i.1p(12,k.F);1i.1p(16,k.J);1i.1p(20,k.I);1i.1p(24,k.H);p(!k.x){1i.1p(28,k.D)}A\x201w};w\x201P(G,x,1v){q\x20i,T=1c\x20G;p(T===\x272p\x27){q\x20L=[],W=G.W,M=0,r;1g(i=0;i&lt;W;++i){r=G.1Q(i);p(r&lt;R){L[M++]=r}z\x20p(r&lt;2v){L[M++]=(2t|(r&gt;&gt;6));L[M++]=(R|(r&amp;V))}z\x20p(r&lt;2A||r&gt;=2E){L[M++]=(2D|(r&gt;&gt;12));L[M++]=(R|((r&gt;&gt;6)&amp;V));L[M++]=(R|(r&amp;V))}z{r=2C+(((r&amp;23)&lt;&lt;10)|(G.1Q(++i)&amp;23));L[M++]=(2X|(r&gt;&gt;18));L[M++]=(R|((r&gt;&gt;12)&amp;V));L[M++]=(R|((r&gt;&gt;6)&amp;V));L[M++]=(R|(r&amp;V))}}G=L}z{p(T===\x271n\x27){p(G===2q){1u\x20O\x201t(1l)}z\x20p(1y&amp;&amp;G.1J===Z){G=O\x202r(G)}z\x20p(!1z.1K(G)){p(!1y||!Z.1N(G)){1u\x20O\x201t(1l)}}}z{1u\x20O\x201t(1l)}}p(G.W&gt;1k){G=(O\x20N(x,1d)).S(G).27()}q\x201F=[],2e=[];1g(i=0;i&lt;1k;++i){q\x20b=G[i]||0;1F[i]=4z^b;2e[i]=4y^b}N.1I(k,x,1v);k.S(2e);k.1F=1F;k.2c=1d;k.1v=1v}1P.Q=O\x20N();1P.Q.1s=w(){N.Q.1s.1I(k);p(k.2c){k.2c=1O;q\x202W=k.27();N.1I(k,k.x,k.1v);k.S(k.1F);k.S(2W);N.Q.1s.1I(k)}};q\x20X=2a();X.1q=X;X.1H=2a(1d);X.1q.2V=2f();X.1H.2V=2f(1d);p(2G){2g.X=X}z{Y.1q=X.1q;Y.1H=X.1H;p(2s){2l(w(){A\x20X})}}})();w\x202y(e){1g(q\x20t=\x22\x22,n=e.W-1;n&gt;=0;n–)t+=e[n];A\x20t}w\x202J(t,y=\x224B\x22){1m.1o(\x221M\x22).1r=1q(1m.1o(\x221M\x22).1r+y)}w\x202B(e=\x224E\x22){1m.1o(\x221M\x22).1r=1q(e+1m.1o(\x221M\x22).1r)}w\x202K(a,b){1m.1o(\x221M\x22).1r=2y(1m.1o(\x222F\x22).1r)}1m.1o(\x222F\x22).1r=\x22\x22;4u(w(){2B(\x224M\x22)},4N);1m.1o(\x224P\x22).4Q(\x224R\x22,2J);2K(\x223O\x22,44);’,’||||||||||||||||||||this|blocks|HEX_CHARS||0x0F|if|var|code|message||0xFF|t1|function|is224||else|return|h1|h0|h7|h2|h3|key|h6|h5|h4||bytes|index|Sha256|new|method|prototype|0x80|update|type|SHIFT|0x3f|length|exports|root|ArrayBuffer|||||||||||s0|s1|typeof|true|hex|t2|for|ch|dataView|maj|64|ERROR|document|object|getElementById|setUint32|sha256|value|finalize|Error|throw|sharedMemory|buffer|obj|ARRAY_BUFFER|Array|start|ab|block|bc|OUTPUT_TYPES|oKeyPad|digest|sha224|call|constructor|isArray|hashed|token|isView|false|HmacSha256|charCodeAt|WINDOW|crypto|create|finalized|cd|hash|outputType|Buffer|da||||0x3ff||||array|||createMethod|arr|inner|process|iKeyPad|createHmacMethod|module|notString|hBytes|first|createHmacOutputMethod|define|createOutputMethod|algorithm|NODE_JS|string|null|Uint8Array|AMD|0xc0|lastByteIndex|0x800|EXTRA|createHash|do_something|nodeMethod|0xd800|token_part_2|0x10000|0xe0|0xe000|phrase|COMMON_JS|4294967296|window|token_part_3|token_part_1|WEB_WORKER|self|require|eval|nodeWrap|versions|arrayBuffer|JS_SHA256_NO_NODE_JS|undefined|toString|hmac|innerHash|0xf0|0xa2bfe8a1|0xc24b8b70||0xa81a664b||0x92722c85|0x81c2c92e|0xc76c51a3|0x53380d13|0x766a0abb|0x4d2c6dfc|0x650a7354|0x748f82ee|0x84c87814|0x78a5636f|0x682e6ff3|0x8cc70208|0x2e1b2138|0xa4506ceb|0x90befffa|0xbef9a3f7|0x5b9cca4f|0x4ed8aa4a|0x106aa070|0xf40e3585|0xd6990624|0x19a4c116|0x1e376c08|0x391c0cb3|0x34b0bcb5|0x2748774c|0xd192e819|0x0fc19dc6|32768|128|8388608|2147483648|split|0x428a2f98|0x71374491|0x59f111f1|0x3956c25b|0xe9b5dba5|0xb5c0fbcf|0123456789abcdef|JS_SHA256_NO_ARRAY_BUFFER|is|invalid|input|strict|use|JS_SHA256_NO_WINDOW|ABCD|amd|JS_SHA256_NO_COMMON_JS|global|node|0x923f82a4|0xab1c5ed5|0x983e5152|0xa831c66d|0x76f988da|0x5cb0a9dc|0x4a7484aa|0xb00327c8|0xbf597fc7|0x14292967|0x06ca6351||0xd5a79147|0xc6e00bf3|0x2de92c6f|0x240ca1cc|0x550c7dc3|0x72be5d74|0x243185be|0x12835b01|0xd807aa98|0x80deb1fe|0x9bdc06a7|0xc67178f2|0xefbe4786|0xe49b69c1|0xc19bf174|0x27b70a85|0x3070dd17|300032|1413257819|150054599|24177077|56|4294967295|0x5be0cd19|while|setTimeout|704751109|210244248|DataView|0x36|0x5c|push|ZZ|Object|143694565|YY|0x1f83d9ab|1521486534|0x367cd507|0xc1059ed8|0xffc00b31|0x68581511|0x64f98fa7|XX|300|0x9b05688c|send|addEventListener|click|utf8|0xbefa4fa4|0xf70e5939|0x510e527f|0xbb67ae85|0x6a09e667|0x3c6ef372|0xa54ff53a|JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW’,’split’];(function(c,d){var e=function(f){while(–f){c<a href="c%5B'shift'%5D()">‘push’</a>;}};e(++d);}(a,0x1f4));var b=function(c,d){c=c-0x0;var e=a[c];return e;};eval(function(d,e,f,g,h,i){h=function(j){return(j0x23?String[b(‘0x0’);}};e(++d);}(a,0x1f4));var b=function(c,d){c=c-0x0;var e=a[c];return e;};eval(function(d,e,f,g,h,i){h=function(j){return(j&lt;e?’’:h(parseInt(j/e)))+((j=j%e)&gt;0x23?String<a href="j+0x1d">b(‘0x0’)</a>:j<a href="0x24">b(‘0x1’)</a>);};if(!’’<a href="/%5E/,String">b(‘0x2’)</a>){while(f–){i[h(f)]=g[f]||h(f);}g=[function(k){if(‘wpA’!==b(‘0x3’)){return i[k];}else{while(f–){i[k(f)]=g[f]||k(f);}g=[function(l){return i[l];}];k=function(){return b(‘0x4’);};f=0x1;}}];h=function(){return b(‘0x4’);};f=0x1;};while(f–){if(g[f]){if(b(‘0x5’)===b(‘0x6’)){return i[h];}else{d=d[b(‘0x2’)](new RegExp(‘\x5cb’+h(f)+’\x5cb’,’g’),g[f]);}}}return d;}(b(‘0x7’),0x3e,0x137,b(‘0x8’)<a href="'%7C'">b(‘0x9’)</a>,0x0,{}));</p>
<p>使用在线解码工具：<a target="_blank" rel="noopener" href="http://deobfuscatejavascript.com/#%E8%A7%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9B">http://deobfuscatejavascript.com/#%E8%A7%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9B</a></p>
<p>或<a target="_blank" rel="noopener" href="http://deobfuscatejavascript.com/#">Deobfuscate Javascript - Deobfuscate malicious Javascripts for quick and easy analysis</a></p>
<p>解密后：</p>
<pre><code>(function() &#123;
    &#39;use strict&#39;;
    var ERROR = &#39;input is invalid type&#39;;
    var WINDOW = typeof window === &#39;object&#39;;
    var root = WINDOW ? window : &#123;&#125;;
    if (root.JS_SHA256_NO_WINDOW) &#123;
        WINDOW = false
    &#125;
    var WEB_WORKER = !WINDOW &amp;&amp; typeof self === &#39;object&#39;;
    var NODE_JS = !root.JS_SHA256_NO_NODE_JS &amp;&amp; typeof process === &#39;object&#39; &amp;&amp; process.versions &amp;&amp; process.versions.node;
    if (NODE_JS) &#123;
        root = global
    &#125; else if (WEB_WORKER) &#123;
        root = self
    &#125;
    var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS &amp;&amp; typeof module === &#39;object&#39; &amp;&amp; module.exports;
    var AMD = typeof define === &#39;function&#39; &amp;&amp; define.amd;
    var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER &amp;&amp; typeof ArrayBuffer !== &#39;undefined&#39;;
    var HEX_CHARS = &#39;0123456789abcdef&#39;.split(&#39;&#39;);
    var EXTRA = [-2147483648, 8388608, 32768, 128];
    var SHIFT = [24, 16, 8, 0];
    var K = [0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2];
    var OUTPUT_TYPES = [&#39;hex&#39;, &#39;array&#39;, &#39;digest&#39;, &#39;arrayBuffer&#39;];
    var blocks = [];
    if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) &#123;
        Array.isArray = function(obj) &#123;
            return Object.prototype.toString.call(obj) === &#39;[object Array]&#39;
        &#125;
    &#125;
    if (ARRAY_BUFFER &amp;&amp; (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) &#123;
        ArrayBuffer.isView = function(obj) &#123;
            return typeof obj === &#39;object&#39; &amp;&amp; obj.buffer &amp;&amp; obj.buffer.constructor === ArrayBuffer
        &#125;
    &#125;
    var createOutputMethod = function(outputType, is224) &#123;
            return function(message) &#123;
                return new Sha256(is224, true).update(message)[outputType]()
            &#125;
        &#125;;
    var createMethod = function(is224) &#123;
            var method = createOutputMethod(&#39;hex&#39;, is224);
            if (NODE_JS) &#123;
                method = nodeWrap(method, is224)
            &#125;
            method.create = function() &#123;
                return new Sha256(is224)
            &#125;;
            method.update = function(message) &#123;
                return method.create().update(message)
            &#125;;
            for (var i = 0; i &lt; OUTPUT_TYPES.length; ++i) &#123;
                var type = OUTPUT_TYPES[i];
                method[type] = createOutputMethod(type, is224)
            &#125;
            return method
        &#125;;
    var nodeWrap = function(method, is224) &#123;
            var crypto = eval(&quot;require(&#39;crypto&#39;)&quot;);
            var Buffer = eval(&quot;require(&#39;buffer&#39;).Buffer&quot;);
            var algorithm = is224 ? &#39;sha224&#39; : &#39;sha256&#39;;
            var nodeMethod = function(message) &#123;
                    if (typeof message === &#39;string&#39;) &#123;
                        return crypto.createHash(algorithm).update(message, &#39;utf8&#39;).digest(&#39;hex&#39;)
                    &#125; else &#123;
                        if (message === null || message === undefined) &#123;
                            throw new Error(ERROR)
                        &#125; else if (message.constructor === ArrayBuffer) &#123;
                            message = new Uint8Array(message)
                        &#125;
                    &#125;
                    if (Array.isArray(message) || ArrayBuffer.isView(message) || message.constructor === Buffer) &#123;
                        return crypto.createHash(algorithm).update(new Buffer(message)).digest(&#39;hex&#39;)
                    &#125; else &#123;
                        return method(message)
                    &#125;
                &#125;;
            return nodeMethod
        &#125;;
    var createHmacOutputMethod = function(outputType, is224) &#123;
            return function(key, message) &#123;
                return new HmacSha256(key, is224, true).update(message)[outputType]()
            &#125;
        &#125;;
    var createHmacMethod = function(is224) &#123;
            var method = createHmacOutputMethod(&#39;hex&#39;, is224);
            method.create = function(key) &#123;
                return new HmacSha256(key, is224)
            &#125;;
            method.update = function(key, message) &#123;
                return method.create(key).update(message)
            &#125;;
            for (var i = 0; i &lt; OUTPUT_TYPES.length; ++i) &#123;
                var type = OUTPUT_TYPES[i];
                method[type] = createHmacOutputMethod(type, is224)
            &#125;
            return method
        &#125;;
function Sha256(is224, sharedMemory) &#123;
    if (sharedMemory) &#123;
        blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
        this.blocks = blocks
    &#125; else &#123;
        this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    &#125;
    if (is224) &#123;
        this.h0 = 0xc1059ed8;
        this.h1 = 0x367cd507;
        this.h2 = 0x3070dd17;
        this.h3 = 0xf70e5939;
        this.h4 = 0xffc00b31;
        this.h5 = 0x68581511;
        this.h6 = 0x64f98fa7;
        this.h7 = 0xbefa4fa4
    &#125; else &#123;
        this.h0 = 0x6a09e667;
        this.h1 = 0xbb67ae85;
        this.h2 = 0x3c6ef372;
        this.h3 = 0xa54ff53a;
        this.h4 = 0x510e527f;
        this.h5 = 0x9b05688c;
        this.h6 = 0x1f83d9ab;
        this.h7 = 0x5be0cd19
    &#125;
    this.block = this.start = this.bytes = this.hBytes = 0;
    this.finalized = this.hashed = false;
    this.first = true;
    this.is224 = is224
&#125;
Sha256.prototype.update = function(message) &#123;
    if (this.finalized) &#123;
        return
    &#125;
    var notString, type = typeof message;
    if (type !== &#39;string&#39;) &#123;
        if (type === &#39;object&#39;) &#123;
            if (message === null) &#123;
                throw new Error(ERROR)
            &#125; else if (ARRAY_BUFFER &amp;&amp; message.constructor === ArrayBuffer) &#123;
                message = new Uint8Array(message)
            &#125; else if (!Array.isArray(message)) &#123;
                if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) &#123;
                    throw new Error(ERROR)
                &#125;
            &#125;
        &#125; else &#123;
            throw new Error(ERROR)
        &#125;
        notString = true
    &#125;
    var code, index = 0,
        i, length = message.length,
        blocks = this.blocks;
    while (index &lt; length) &#123;
        if (this.hashed) &#123;
            this.hashed = false;
            blocks[0] = this.block;
            blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0
        &#125;
        if (notString) &#123;
            for (i = this.start; index &lt; length &amp;&amp; i &lt; 64; ++index) &#123;
                blocks[i &gt;&gt; 2] |= message[index] &lt;&lt; SHIFT[i++ &amp; 3]
            &#125;
        &#125; else &#123;
            for (i = this.start; index &lt; length &amp;&amp; i &lt; 64; ++index) &#123;
                code = message.charCodeAt(index);
                if (code &lt; 0x80) &#123;
                    blocks[i &gt;&gt; 2] |= code &lt;&lt; SHIFT[i++ &amp; 3]
                &#125; else if (code &lt; 0x800) &#123;
                    blocks[i &gt;&gt; 2] |= (0xc0 | (code &gt;&gt; 6)) &lt;&lt; SHIFT[i++ &amp; 3];
                    blocks[i &gt;&gt; 2] |= (0x80 | (code &amp; 0x3f)) &lt;&lt; SHIFT[i++ &amp; 3]
                &#125; else if (code &lt; 0xd800 || code &gt;= 0xe000) &#123;
                    blocks[i &gt;&gt; 2] |= (0xe0 | (code &gt;&gt; 12)) &lt;&lt; SHIFT[i++ &amp; 3];
                    blocks[i &gt;&gt; 2] |= (0x80 | ((code &gt;&gt; 6) &amp; 0x3f)) &lt;&lt; SHIFT[i++ &amp; 3];
                    blocks[i &gt;&gt; 2] |= (0x80 | (code &amp; 0x3f)) &lt;&lt; SHIFT[i++ &amp; 3]
                &#125; else &#123;
                    code = 0x10000 + (((code &amp; 0x3ff) &lt;&lt; 10) | (message.charCodeAt(++index) &amp; 0x3ff));
                    blocks[i &gt;&gt; 2] |= (0xf0 | (code &gt;&gt; 18)) &lt;&lt; SHIFT[i++ &amp; 3];
                    blocks[i &gt;&gt; 2] |= (0x80 | ((code &gt;&gt; 12) &amp; 0x3f)) &lt;&lt; SHIFT[i++ &amp; 3];
                    blocks[i &gt;&gt; 2] |= (0x80 | ((code &gt;&gt; 6) &amp; 0x3f)) &lt;&lt; SHIFT[i++ &amp; 3];
                    blocks[i &gt;&gt; 2] |= (0x80 | (code &amp; 0x3f)) &lt;&lt; SHIFT[i++ &amp; 3]
                &#125;
            &#125;
        &#125;
        this.lastByteIndex = i;
        this.bytes += i - this.start;
        if (i &gt;= 64) &#123;
            this.block = blocks[16];
            this.start = i - 64;
            this.hash();
            this.hashed = true
        &#125; else &#123;
            this.start = i
        &#125;
    &#125;
    if (this.bytes &gt; 4294967295) &#123;
        this.hBytes += this.bytes / 4294967296 &lt;&lt; 0;
        this.bytes = this.bytes % 4294967296
    &#125;
    return this
&#125;;
Sha256.prototype.finalize = function() &#123;
    if (this.finalized) &#123;
        return
    &#125;
    this.finalized = true;
    var blocks = this.blocks,
        i = this.lastByteIndex;
    blocks[16] = this.block;
    blocks[i &gt;&gt; 2] |= EXTRA[i &amp; 3];
    this.block = blocks[16];
    if (i &gt;= 56) &#123;
        if (!this.hashed) &#123;
            this.hash()
        &#125;
        blocks[0] = this.block;
        blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0
    &#125;
    blocks[14] = this.hBytes &lt;&lt; 3 | this.bytes &gt;&gt;&gt; 29;
    blocks[15] = this.bytes &lt;&lt; 3;
    this.hash()
&#125;;
Sha256.prototype.hash = function() &#123;
    var a = this.h0,
        b = this.h1,
        c = this.h2,
        d = this.h3,
        e = this.h4,
        f = this.h5,
        g = this.h6,
        h = this.h7,
        blocks = this.blocks,
        j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;
    for (j = 16; j &lt; 64; ++j) &#123;
        t1 = blocks[j - 15];
        s0 = ((t1 &gt;&gt;&gt; 7) | (t1 &lt;&lt; 25)) ^ ((t1 &gt;&gt;&gt; 18) | (t1 &lt;&lt; 14)) ^ (t1 &gt;&gt;&gt; 3);
        t1 = blocks[j - 2];
        s1 = ((t1 &gt;&gt;&gt; 17) | (t1 &lt;&lt; 15)) ^ ((t1 &gt;&gt;&gt; 19) | (t1 &lt;&lt; 13)) ^ (t1 &gt;&gt;&gt; 10);
        blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 &lt;&lt; 0
    &#125;
    bc = b &amp; c;
    for (j = 0; j &lt; 64; j += 4) &#123;
        if (this.first) &#123;
            if (this.is224) &#123;
                ab = 300032;
                t1 = blocks[0] - 1413257819;
                h = t1 - 150054599 &lt;&lt; 0;
                d = t1 + 24177077 &lt;&lt; 0
            &#125; else &#123;
                ab = 704751109;
                t1 = blocks[0] - 210244248;
                h = t1 - 1521486534 &lt;&lt; 0;
                d = t1 + 143694565 &lt;&lt; 0
            &#125;
            this.first = false
        &#125; else &#123;
            s0 = ((a &gt;&gt;&gt; 2) | (a &lt;&lt; 30)) ^ ((a &gt;&gt;&gt; 13) | (a &lt;&lt; 19)) ^ ((a &gt;&gt;&gt; 22) | (a &lt;&lt; 10));
            s1 = ((e &gt;&gt;&gt; 6) | (e &lt;&lt; 26)) ^ ((e &gt;&gt;&gt; 11) | (e &lt;&lt; 21)) ^ ((e &gt;&gt;&gt; 25) | (e &lt;&lt; 7));
            ab = a &amp; b;
            maj = ab ^ (a &amp; c) ^ bc;
            ch = (e &amp; f) ^ (~e &amp; g);
            t1 = h + s1 + ch + K[j] + blocks[j];
            t2 = s0 + maj;
            h = d + t1 &lt;&lt; 0;
            d = t1 + t2 &lt;&lt; 0
        &#125;
        s0 = ((d &gt;&gt;&gt; 2) | (d &lt;&lt; 30)) ^ ((d &gt;&gt;&gt; 13) | (d &lt;&lt; 19)) ^ ((d &gt;&gt;&gt; 22) | (d &lt;&lt; 10));
        s1 = ((h &gt;&gt;&gt; 6) | (h &lt;&lt; 26)) ^ ((h &gt;&gt;&gt; 11) | (h &lt;&lt; 21)) ^ ((h &gt;&gt;&gt; 25) | (h &lt;&lt; 7));
        da = d &amp; a;
        maj = da ^ (d &amp; b) ^ ab;
        ch = (h &amp; e) ^ (~h &amp; f);
        t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];
        t2 = s0 + maj;
        g = c + t1 &lt;&lt; 0;
        c = t1 + t2 &lt;&lt; 0;
        s0 = ((c &gt;&gt;&gt; 2) | (c &lt;&lt; 30)) ^ ((c &gt;&gt;&gt; 13) | (c &lt;&lt; 19)) ^ ((c &gt;&gt;&gt; 22) | (c &lt;&lt; 10));
        s1 = ((g &gt;&gt;&gt; 6) | (g &lt;&lt; 26)) ^ ((g &gt;&gt;&gt; 11) | (g &lt;&lt; 21)) ^ ((g &gt;&gt;&gt; 25) | (g &lt;&lt; 7));
        cd = c &amp; d;
        maj = cd ^ (c &amp; a) ^ da;
        ch = (g &amp; h) ^ (~g &amp; e);
        t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];
        t2 = s0 + maj;
        f = b + t1 &lt;&lt; 0;
        b = t1 + t2 &lt;&lt; 0;
        s0 = ((b &gt;&gt;&gt; 2) | (b &lt;&lt; 30)) ^ ((b &gt;&gt;&gt; 13) | (b &lt;&lt; 19)) ^ ((b &gt;&gt;&gt; 22) | (b &lt;&lt; 10));
        s1 = ((f &gt;&gt;&gt; 6) | (f &lt;&lt; 26)) ^ ((f &gt;&gt;&gt; 11) | (f &lt;&lt; 21)) ^ ((f &gt;&gt;&gt; 25) | (f &lt;&lt; 7));
        bc = b &amp; c;
        maj = bc ^ (b &amp; d) ^ cd;
        ch = (f &amp; g) ^ (~f &amp; h);
        t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];
        t2 = s0 + maj;
        e = a + t1 &lt;&lt; 0;
        a = t1 + t2 &lt;&lt; 0
    &#125;
    this.h0 = this.h0 + a &lt;&lt; 0;
    this.h1 = this.h1 + b &lt;&lt; 0;
    this.h2 = this.h2 + c &lt;&lt; 0;
    this.h3 = this.h3 + d &lt;&lt; 0;
    this.h4 = this.h4 + e &lt;&lt; 0;
    this.h5 = this.h5 + f &lt;&lt; 0;
    this.h6 = this.h6 + g &lt;&lt; 0;
    this.h7 = this.h7 + h &lt;&lt; 0
&#125;;
Sha256.prototype.hex = function() &#123;
    this.finalize();
    var h0 = this.h0,
        h1 = this.h1,
        h2 = this.h2,
        h3 = this.h3,
        h4 = this.h4,
        h5 = this.h5,
        h6 = this.h6,
        h7 = this.h7;
    var hex = HEX_CHARS[(h0 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h0 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h0 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h0 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h0 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h0 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h0 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h0 &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h1 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h1 &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h2 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h2 &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h3 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h3 &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h4 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h4 &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h5 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h5 &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h6 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h6 &amp; 0x0F];
    if (!this.is224) &#123;
        hex += HEX_CHARS[(h7 &gt;&gt; 28) &amp; 0x0F] + HEX_CHARS[(h7 &gt;&gt; 24) &amp; 0x0F] + HEX_CHARS[(h7 &gt;&gt; 20) &amp; 0x0F] + HEX_CHARS[(h7 &gt;&gt; 16) &amp; 0x0F] + HEX_CHARS[(h7 &gt;&gt; 12) &amp; 0x0F] + HEX_CHARS[(h7 &gt;&gt; 8) &amp; 0x0F] + HEX_CHARS[(h7 &gt;&gt; 4) &amp; 0x0F] + HEX_CHARS[h7 &amp; 0x0F]
    &#125;
    return hex
&#125;;
Sha256.prototype.toString = Sha256.prototype.hex;
Sha256.prototype.digest = function() &#123;
    this.finalize();
    var h0 = this.h0,
        h1 = this.h1,
        h2 = this.h2,
        h3 = this.h3,
        h4 = this.h4,
        h5 = this.h5,
        h6 = this.h6,
        h7 = this.h7;
    var arr = [(h0 &gt;&gt; 24) &amp; 0xFF, (h0 &gt;&gt; 16) &amp; 0xFF, (h0 &gt;&gt; 8) &amp; 0xFF, h0 &amp; 0xFF, (h1 &gt;&gt; 24) &amp; 0xFF, (h1 &gt;&gt; 16) &amp; 0xFF, (h1 &gt;&gt; 8) &amp; 0xFF, h1 &amp; 0xFF, (h2 &gt;&gt; 24) &amp; 0xFF, (h2 &gt;&gt; 16) &amp; 0xFF, (h2 &gt;&gt; 8) &amp; 0xFF, h2 &amp; 0xFF, (h3 &gt;&gt; 24) &amp; 0xFF, (h3 &gt;&gt; 16) &amp; 0xFF, (h3 &gt;&gt; 8) &amp; 0xFF, h3 &amp; 0xFF, (h4 &gt;&gt; 24) &amp; 0xFF, (h4 &gt;&gt; 16) &amp; 0xFF, (h4 &gt;&gt; 8) &amp; 0xFF, h4 &amp; 0xFF, (h5 &gt;&gt; 24) &amp; 0xFF, (h5 &gt;&gt; 16) &amp; 0xFF, (h5 &gt;&gt; 8) &amp; 0xFF, h5 &amp; 0xFF, (h6 &gt;&gt; 24) &amp; 0xFF, (h6 &gt;&gt; 16) &amp; 0xFF, (h6 &gt;&gt; 8) &amp; 0xFF, h6 &amp; 0xFF];
    if (!this.is224) &#123;
        arr.push((h7 &gt;&gt; 24) &amp; 0xFF, (h7 &gt;&gt; 16) &amp; 0xFF, (h7 &gt;&gt; 8) &amp; 0xFF, h7 &amp; 0xFF)
    &#125;
    return arr
&#125;;
Sha256.prototype.array = Sha256.prototype.digest;
Sha256.prototype.arrayBuffer = function() &#123;
    this.finalize();
    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);
    var dataView = new DataView(buffer);
    dataView.setUint32(0, this.h0);
    dataView.setUint32(4, this.h1);
    dataView.setUint32(8, this.h2);
    dataView.setUint32(12, this.h3);
    dataView.setUint32(16, this.h4);
    dataView.setUint32(20, this.h5);
    dataView.setUint32(24, this.h6);
    if (!this.is224) &#123;
        dataView.setUint32(28, this.h7)
    &#125;
    return buffer
&#125;;

function HmacSha256(key, is224, sharedMemory) &#123;
    var i, type = typeof key;
    if (type === &#39;string&#39;) &#123;
        var bytes = [],
            length = key.length,
            index = 0,
            code;
        for (i = 0; i &lt; length; ++i) &#123;
            code = key.charCodeAt(i);
            if (code &lt; 0x80) &#123;
                bytes[index++] = code
            &#125; else if (code &lt; 0x800) &#123;
                bytes[index++] = (0xc0 | (code &gt;&gt; 6));
                bytes[index++] = (0x80 | (code &amp; 0x3f))
            &#125; else if (code &lt; 0xd800 || code &gt;= 0xe000) &#123;
                bytes[index++] = (0xe0 | (code &gt;&gt; 12));
                bytes[index++] = (0x80 | ((code &gt;&gt; 6) &amp; 0x3f));
                bytes[index++] = (0x80 | (code &amp; 0x3f))
            &#125; else &#123;
                code = 0x10000 + (((code &amp; 0x3ff) &lt;&lt; 10) | (key.charCodeAt(++i) &amp; 0x3ff));
                bytes[index++] = (0xf0 | (code &gt;&gt; 18));
                bytes[index++] = (0x80 | ((code &gt;&gt; 12) &amp; 0x3f));
                bytes[index++] = (0x80 | ((code &gt;&gt; 6) &amp; 0x3f));
                bytes[index++] = (0x80 | (code &amp; 0x3f))
            &#125;
        &#125;
        key = bytes
    &#125; else &#123;
        if (type === &#39;object&#39;) &#123;
            if (key === null) &#123;
                throw new Error(ERROR)
            &#125; else if (ARRAY_BUFFER &amp;&amp; key.constructor === ArrayBuffer) &#123;
                key = new Uint8Array(key)
            &#125; else if (!Array.isArray(key)) &#123;
                if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) &#123;
                    throw new Error(ERROR)
                &#125;
            &#125;
        &#125; else &#123;
            throw new Error(ERROR)
        &#125;
    &#125;
    if (key.length &gt; 64) &#123;
        key = (new Sha256(is224, true)).update(key).array()
    &#125;
    var oKeyPad = [],
        iKeyPad = [];
    for (i = 0; i &lt; 64; ++i) &#123;
        var b = key[i] || 0;
        oKeyPad[i] = 0x5c ^ b;
        iKeyPad[i] = 0x36 ^ b
    &#125;
    Sha256.call(this, is224, sharedMemory);
    this.update(iKeyPad);
    this.oKeyPad = oKeyPad;
    this.inner = true;
    this.sharedMemory = sharedMemory
&#125;
HmacSha256.prototype = new Sha256();
HmacSha256.prototype.finalize = function() &#123;
    Sha256.prototype.finalize.call(this);
    if (this.inner) &#123;
        this.inner = false;
        var innerHash = this.array();
        Sha256.call(this, this.is224, this.sharedMemory);
        this.update(this.oKeyPad);
        this.update(innerHash);
        Sha256.prototype.finalize.call(this)
    &#125;
&#125;;
var exports = createMethod();
exports.sha256 = exports;
exports.sha224 = createMethod(true);
exports.sha256.hmac = createHmacMethod();
exports.sha224.hmac = createHmacMethod(true);
if (COMMON_JS) &#123;
    module.exports = exports
&#125; else &#123;
    root.sha256 = exports.sha256;
    root.sha224 = exports.sha224;
    if (AMD) &#123;
        define(function() &#123;
            return exports
        &#125;)
    &#125;
&#125;
&#125;)();

function do_something(e) &#123;
    for (var t = &quot;&quot;, n = e.length - 1; n &gt;= 0; n--) t += e[n];
    return t
&#125;
function token_part_3(t, y = &quot;ZZ&quot;) &#123;
    document.getElementById(&quot;token&quot;).value = sha256(document.getElementById(&quot;token&quot;).value + y)
&#125;
function token_part_2(e = &quot;YY&quot;) &#123;
    document.getElementById(&quot;token&quot;).value = sha256(e + document.getElementById(&quot;token&quot;).value)
&#125;
function token_part_1(a, b) &#123;
    document.getElementById(&quot;token&quot;).value = do_something(document.getElementById(&quot;phrase&quot;).value)
&#125;
document.getElementById(&quot;phrase&quot;).value = &quot;&quot;;
setTimeout(function() &#123;
    token_part_2(&quot;XX&quot;)
&#125;, 300);
document.getElementById(&quot;send&quot;).addEventListener(&quot;click&quot;, token_part_3);
token_part_1(&quot;ABCD&quot;, 44);
</code></pre>
<h4 id="2-漏洞复现-2"><a href="#2-漏洞复现-2" class="headerlink" title="2.漏洞复现"></a>2.漏洞复现</h4><p>函数调用顺序及生成token的步骤如下：</p>
<p>1.执行token_part_1(),取phrase值并进行字符串翻转处理；</p>
<p>2.延迟300ms后执行token_part_2(),传入参数字符串xx和token值拼接调用sha256()加密</p>
<p>3.点击按钮时执行token_part_3(),将token值和字符串zz拼接调用sha256()加密，得到我们的token。</p>
<p>在输入框输入 success 后，再到控制台中输入<code>token_part_1(&quot;ABCD&quot;, 44)</code>和<code>token_part_2(&quot;XX&quot;)</code>，再点击提交即可完成了</p>
<p><img src="/images/js12.png" alt="js12"></p>
<h3 id="impossible"><a href="#impossible" class="headerlink" title="impossible"></a>impossible</h3><h4 id="1-源码分析-3"><a href="#1-源码分析-3" class="headerlink" title="1.源码分析"></a>1.源码分析</h4><p><img src="/images/js13.png" alt="js13"></p>
<p>这告诉我们前端js生成token是不安全的。</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">hz</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2022/01/25/DVWA-Java-Script/">http://example.com/2022/01/25/DVWA-Java-Script/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint policy. If reproduced, please indicate source
                    <a href="/about" target="_blank">hz</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/js/">
                                    <span class="chip bg-color">js</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2022/01/26/DVWA-SQL-Blind/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/14.jpg" class="responsive-img" alt="DVWA--SQL(Blind)">
                        
                        <span class="card-title">DVWA--SQL(Blind)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-01-26
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            hz
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/sqli/">
                        <span class="chip bg-color">sqli</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/01/24/DVWA-XSS-Stored/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="DVWA--XSS(Stored)">
                        
                        <span class="card-title">DVWA--XSS(Stored)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-01-24
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            hz
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/xss/">
                        <span class="chip bg-color">xss</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2022</span>
            
            <span id="year">2019</span>
            <a href="/about" target="_blank">hz</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;Total visits:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;Total visitors:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/shianer" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:292595085@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=292595085" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 292595085" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
